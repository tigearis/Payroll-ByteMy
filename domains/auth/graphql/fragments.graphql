# Auth Domain Fragments
# Import shared fragments: UserCore, RoleCore, PermissionCore, ResourceCore, UserRoleCore, RolePermissionCore

fragment AuthUserCore on users {
  id
  name
  email
  isActive
  isStaff
  role
  clerkUserId
  createdAt
  updatedAt
}

fragment AuthRoleCore on roles {
  id
  name
  displayName
  description
  priority
  isSystemRole
  createdAt
  updatedAt
}

fragment AuthPermissionCore on permissions {
  id
  resourceId
  action
  description
  legacy_permission_name
  createdAt
  updatedAt
}

fragment AuthUserRoleWithDetails on user_roles {
  ...UserRoleCore
  user {
    ...AuthUserCore
  }
  role {
    ...AuthRoleCore
  }
}

# RolePermissionCore now moved to shared/graphql/fragments.graphql

fragment PermissionOverrideCore on permission_overrides {
  id
  userId
  resource
  operation
  granted
  conditions
  expiresAt
  createdBy
  createdAt
  updatedAt
}

# Notes Domain Fragments
# Security Classification: MEDIUM - Contains business communication data
# SOC2 Compliance: User-generated content with audit requirements

fragment NoteCore on Notes {
  id
  content
  isImportant
  createdAt
  updatedAt
  userId
  entityType
  entityId
}

fragment NoteBasic on Notes {
  ...NoteCore
  author {
    id
    firstName
    lastName
    computedName
    email
    role
  }
}

fragment NoteDetailed on Notes {
  ...NoteBasic
  # Additional fields if any exist in the schema
}

fragment NoteWithEntity on Notes {
  ...NoteBasic
  # Entity relationships would go here based on entityType
  # This is a polymorphic relationship pattern
}

# Performance-optimized fragments

fragment NoteSummary on Notes {
  id
  isImportant
  createdAt
  entityType
  entityId
  userId
}

fragment NoteListItem on Notes {
  ...NoteSummary
  content
  updatedAt
  author {
    id
    firstName
    lastName
    computedName
    role
  }
}

fragment NoteTableRow on Notes {
  ...NoteListItem
  # Additional fields for table display if needed
}

fragment NoteMinimal on Notes {
  id
  isImportant
  createdAt
  userId
}

fragment NoteForAudit on Notes {
  id
  isImportant
  createdAt
  updatedAt
  userId
  entityType
  entityId
  # Content excluded from audit for privacy
}

fragment NoteCard on Notes {
  ...NoteSummary
  content
  author {
    id
    firstName
    lastName
    computedName
    image
  }
}

fragment NoteDashboard on Notes {
  ...NoteSummary
  author {
    id
    firstName
    lastName
    computedName
  }
}

# Entity-specific note fragments

fragment PayrollNote on Notes {
  ...NoteBasic
  # When entityType = 'payroll'
}

fragment ClientNote on Notes {
  ...NoteBasic
  # When entityType = 'client'  
}

fragment UserNote on Notes {
  ...NoteBasic
  # When entityType = 'user'
}

fragment ImportantNote on Notes {
  ...NoteListItem
  # For isImportant flagged notes
}

fragment RecentNote on Notes {
  ...NoteCard
  # For recently created/updated notes
}
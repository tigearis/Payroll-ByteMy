# Client Domain Mutations
# All client-related write operations

# Create a new client
mutation CreateClient(
  $name: String!
  $contactPerson: String
  $contactEmail: String
  $contactPhone: String
) {
  insert_clients_one(
    object: {
      name: $name
      contact_person: $contactPerson
      contact_email: $contactEmail
      contact_phone: $contactPhone
      active: true
    }
  ) {
    ...ClientDetailed
  }
}

# Update client information
mutation UpdateClient(
  $id: uuid!
  $name: String
  $contactPerson: String
  $contactEmail: String
  $contactPhone: String
  $active: Boolean
) {
  update_clients_by_pk(
    pk_columns: { id: $id }
    _set: {
      name: $name
      contact_person: $contactPerson
      contact_email: $contactEmail
      contact_phone: $contactPhone
      active: $active
      updated_at: "now()"
    }
  ) {
    ...ClientDetailed
  }
}

# Deactivate client (soft delete) - legacy support
mutation DeleteClient($id: uuid!) {
  update_clients_by_pk(
    pk_columns: { id: $id }
    _set: { active: false }
  ) {
    id
    name
    active
  }
}

# Deactivate client (soft delete)
mutation DeactivateClient($id: uuid!) {
  update_clients_by_pk(
    pk_columns: { id: $id }
    _set: { active: false }
  ) {
    id
    name
    active
  }
}

# Hard delete client (use with caution)
mutation HardDeleteClient($id: uuid!) {
  delete_clients_by_pk(id: $id) {
    id
    name
  }
}
# Leave Domain Subscriptions

subscription SubscribeToLeaveRequests($userId: uuid!) {
  leaves(where: { userId: { _eq: $userId } }, order_by: { startDate: desc }) {
    ...LeaveWithManager
  }
}

subscription SubscribeToPendingLeaveRequests($managerId: uuid!) {
  leaves(
    where: { user: { managerId: { _eq: $managerId } } }
    order_by: { startDate: asc }
  ) {
    ...LeaveWithUser
  }
}

subscription SubscribeToTeamLeave($user_ids: [uuid!]!) {
  leaves(where: {}, order_by: { startDate: asc }) {
    ...LeaveWithUser
  }
}

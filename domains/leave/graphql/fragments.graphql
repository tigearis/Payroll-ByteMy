# Leave Domain Fragments
# Security Classification: MEDIUM - Employee leave and HR data
# SOC2 Compliance: Personal data with privacy controls

fragment LeaveCore on Leave {
  id
  leaveType
  startDate
  endDate
  status
  userId
}

fragment LeaveBasic on Leave {
  ...LeaveCore
  reason
}

fragment LeaveDetailed on Leave {
  ...LeaveBasic
}

fragment LeaveWithUser on Leave {
  ...LeaveBasic
  employee {
    id
    firstName
    lastName
    computedName
    email
    role
    position
    manager {
      id
      firstName
      lastName
      computedName
      email
    }
  }
}

fragment LeaveComplete on Leave {
  ...LeaveDetailed
  employee {
    id
    firstName
    lastName
    computedName
    email
    role
    position
    manager {
      id
      firstName
      lastName
      computedName
      email
    }
  }
}

# Performance-optimized fragments
fragment LeaveSummary on Leave {
  id
  leaveType
  startDate
  endDate
  status
  userId
}

fragment LeaveListItem on Leave {
  ...LeaveSummary
  reason
  employee {
    id
    firstName
    lastName
    computedName
    email
    role
    position
    manager {
      id
      firstName
      lastName
      computedName
      email
    }
  }
}

fragment LeaveTableRow on Leave {
  ...LeaveListItem
}

fragment LeaveDashboardCard on Leave {
  ...LeaveSummary
  employee {
    id
    firstName
    lastName
    computedName
  }
}

fragment LeaveCalendarItem on Leave {
  id
  leaveType
  startDate
  endDate
  status
  employee {
    id
    firstName
    lastName
    computedName
    role
    position
  }
}

fragment LeaveMinimal on Leave {
  id
  leaveType
  startDate
  endDate
  status
  userId
}

# Status-specific fragments
fragment PendingLeave on Leave {
  ...LeaveWithUser
  # For pending approval requests
}

fragment ApprovedLeave on Leave {
  ...LeaveBasic
  # For approved leave requests
}

fragment RejectedLeave on Leave {
  ...LeaveBasic
  # For rejected leave requests
}

# Type-specific fragments
fragment SickLeave on Leave {
  ...LeaveDetailed
  # For sick leave with medical details
}

fragment VacationLeave on Leave {
  ...LeaveBasic
  # For vacation/annual leave
}

fragment EmergencyLeave on Leave {
  ...LeaveDetailed
  # For emergency leave with contact details
}

# Audit and compliance fragments
fragment LeaveForAudit on Leave {
  id
  leaveType
  startDate
  endDate
  status
  userId
  # Personal details excluded for audit privacy
}

fragment LeaveApprovalAudit on Leave {
  id
  leaveType
  startDate
  endDate
  status
  userId
  # For approval audit trails
}
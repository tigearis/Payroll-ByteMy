# Payroll Fragments

fragment PayrollBasicInfo on payrolls {
  id
  name
  clientId
  cycleId
  dateTypeId
  primaryConsultantUserId
  backupConsultantUserId
  managerUserId
  employeeCount
  goLiveDate
}

fragment PayrollFullDetails on payrolls {
  id
  name
  employeeCount
  processingTime
  processingDaysBeforeEft
  payrollSystem
  dateValue
  versionNumber
  parentPayrollId
  goLiveDate
  supersededDate
  versionReason
  createdByUserId
}

fragment PayrollWithRelations on payrolls {
  ...PayrollFullDetails
  client {
    id
    name
  }
  payrollCycle {
    id
    name
  }
  payrollDateType {
    id
    name
  }
  primaryConsultant {
    id
    name
    email
  }
  backupConsultant {
    id
    name
    email
  }
  manager {
    id
    name
    email
  }
}

fragment PayrollWithClient on payrolls {
  ...PayrollBasicInfo
  client {
    id
    name
  }
}

fragment PayrollDate on payroll_dates {
  id
  payrollId
  originalEftDate
  adjustedEftDate
  processingDate
}

fragment PayrollWithDates on payrolls {
  ...PayrollWithRelations
  payrollDates(order_by: { adjustedEftDate: asc }) {
    ...PayrollDate
  }
}

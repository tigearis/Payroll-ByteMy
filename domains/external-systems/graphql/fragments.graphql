# External Systems Domain Fragments
# Security Classification: MEDIUM - Integration and configuration data
# SOC2 Compliance: Third-party system data with security controls

fragment ExternalSystemCore on ExternalSystems {
  id
  name
  description
  icon
  createdAt
  updatedAt
}

fragment ExternalSystemBasic on ExternalSystems {
  ...ExternalSystemCore
  url
}

fragment ExternalSystemDetailed on ExternalSystems {
  ...ExternalSystemBasic
}

fragment ExternalSystemWithClients on ExternalSystems {
  ...ExternalSystemBasic
  clientExternalSystems {
    id
    clientId
    externalSystem {
    id
    name
    description
    url
  }
    systemClientId
    createdAt
    updatedAt
    client {
      id
      name
    }
  }
}

fragment ExternalSystemComplete on ExternalSystems {
  ...ExternalSystemDetailed
  clientExternalSystems {
    id
    clientId
    externalSystem {
    id
    name
    description
    url
  }
    systemClientId
    createdAt
    updatedAt
    client {
      id
      name
      contactPerson
      contactEmail
    }
  }
}

# Client External System Fragments
fragment ClientExternalSystemCore on ClientExternalSystems {
  id
  clientId
  externalSystem {
    id
    name
    description
    url
  }
  systemClientId
  createdAt
  updatedAt
}

fragment ClientExternalSystemBasic on ClientExternalSystems {
  ...ClientExternalSystemCore
}

fragment ClientExternalSystemDetailed on ClientExternalSystems {
  ...ClientExternalSystemBasic
}

fragment ClientExternalSystemWithRelations on ClientExternalSystems {
  ...ClientExternalSystemBasic
  client {
    id
    name
    contactPerson
    contactEmail
  }
  externalSystem {
    id
    name
    description
    url
    icon
  }
}

fragment ClientExternalSystemComplete on ClientExternalSystems {
  ...ClientExternalSystemDetailed
  client {
    id
    name
    contactPerson
    contactEmail
    contactPhone
  }
  externalSystem {
    id
    name
    description
    url
    icon
    createdAt
    updatedAt
  }
}

# Performance-optimized fragments
fragment ExternalSystemSummary on ExternalSystems {
  id
  name
  description
  icon
}

fragment ExternalSystemListItem on ExternalSystems {
  ...ExternalSystemSummary
  url
  createdAt
  updatedAt
  clientCount: clientExternalSystemsAggregate {
    aggregate {
      count
    }
  }
}

fragment ExternalSystemTableRow on ExternalSystems {
  ...ExternalSystemListItem
}

fragment ExternalSystemDashboardCard on ExternalSystems {
  ...ExternalSystemSummary
  url
  clientCount: clientExternalSystemsAggregate {
    aggregate {
      count
    }
  }
}

fragment ClientExternalSystemSummary on ClientExternalSystems {
  id
  clientId
  externalSystem {
    id
    name
    description
    url
  }
  systemClientId
  createdAt
  updatedAt
}

fragment ClientExternalSystemListItem on ClientExternalSystems {
  ...ClientExternalSystemSummary
  client {
    id
    name
  }
  externalSystem {
    id
    name
    description
    url
    icon
  }
}

fragment ClientExternalSystemTableRow on ClientExternalSystems {
  ...ClientExternalSystemListItem
}

fragment ExternalSystemMinimal on ExternalSystems {
  id
  name
  url
  icon
}

fragment ClientExternalSystemMinimal on ClientExternalSystems {
  id
  clientId
  externalSystem {
    id
    name
    description
    url
  }
  systemClientId
}

# Configuration and security fragments
fragment ExternalSystemConfig on ExternalSystems {
  id
  name
  description
  url
  icon
  createdAt
  updatedAt
}

fragment ClientExternalSystemConfig on ClientExternalSystems {
  id
  clientId
  externalSystem {
    id
    name
    description
    url
  }
  systemClientId
  createdAt
  updatedAt
}

# Audit and compliance fragments
fragment ExternalSystemForAudit on ExternalSystems {
  id
  name
  description
  url
  icon
  createdAt
  updatedAt
}

fragment ClientExternalSystemForAudit on ClientExternalSystems {
  id
  clientId
  externalSystem {
    id
    name
    description
    url
  }
  systemClientId
  createdAt
  updatedAt
}

# Integration monitoring fragments
fragment ExternalSystemMonitoring on ExternalSystems {
  id
  name
  description
  url
  icon
  clientExternalSystemsAggregate {
    aggregate {
      count
    }
  }
}
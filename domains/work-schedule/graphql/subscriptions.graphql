# Work Schedule Domain Subscriptions
# Security Classification: MEDIUM - Employee scheduling and time management
# SOC2 Compliance: Real-time access controls with audit logging

# Core work schedule subscriptions
subscription WorkScheduleUpdates {
  workSchedule(orderBy: { updatedAt: DESC }) {
    ...WorkScheduleListItem
  }
}

subscription WorkScheduleUpdate($id: uuid!) {
  workSchedule(where: { id: { _eq: $id } }) {
    ...WorkScheduleComplete
  }
}

subscription UserWorkScheduleUpdates($userId: uuid!) {
  workSchedule(where: { userId: { _eq: $userId } }) {
    ...MyWorkSchedule
  }
}

subscription TeamWorkScheduleUpdates($managerUserId: uuid!) {
  workSchedule(
    where: { user: { managerId: { _eq: $managerUserId } } }
    orderBy: { updatedAt: DESC }
  ) {
    ...WorkScheduleDashboardCard
  }
}

subscription WorkScheduleCapacityUpdates($userId: uuid!) {
  workSchedule(where: { userId: { _eq: $userId } }) {
    ...WorkScheduleCapacity
  }
}

# Work Schedule Domain Mutations

# Create Work Schedule
mutation CreateWorkSchedule($object: work_schedule_insert_input!) {
  insertWorkSchedule(object: $object) {
    ...WorkScheduleWithUser
  }
}

mutation CreateWorkSchedules($objects: [work_schedule_insert_input!]!) {
  insertWorkSchedules(objects: $objects) {
    returning {
      ...WorkScheduleWithUser
    }
    affected_rows
  }
}

# Update Work Schedule
mutation UpdateWorkSchedule($id: uuid!, $set: work_schedule_set_input!) {
  updateWorkSchedule(pk_columns: { id: $id }, _set: $set) {
    ...WorkScheduleWithUser
  }
}

mutation UpdateWorkSchedules(
  $where: work_schedule_bool_exp!
  $set: work_schedule_set_input!
) {
  updateWorkSchedules(where: $where, _set: $set) {
    returning {
      ...WorkScheduleWithUser
    }
    affected_rows
  }
}

# Delete Work Schedule
mutation DeleteWorkSchedule($id: uuid!) {
  deleteWorkSchedule(id: $id) {
    id
  }
}

mutation DeleteWorkSchedules($where: work_schedule_bool_exp!) {
  deleteWorkSchedules(where: $where) {
    affected_rows
  }
}

# Bulk Operations
mutation UpsertUserWorkSchedule(
  $userId: uuid!
  $schedules: [work_schedule_insert_input!]!
) {
  # First delete existing schedules for the user
  deleteWorkSchedules(where: { userId: { _eq: $userId } }) {
    affected_rows
  }

  # Then insert new schedules
  insertWorkSchedules(objects: $schedules) {
    returning {
      ...WorkScheduleWithUser
    }
    affected_rows
  }
}
